#:kivy 2.2.1

ScreenManager:
    canvas.before:
        Color:
            rgba: 244/255, 241/255, 228/255, 1
        Rectangle:
            pos: self.pos
            size: self.size
   
    LoginScreen:
    MyReservation:
    Reservation:
    ReservationModification:

<LoginScreen>:
    name: 'login'
    FloatLayout:
        canvas.before:
            Color:
                rgba: 244/255, 241/255, 228/255, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Image:
            source: 'sources/ristoranteilcapo.png'
            size_hint: 1, None
            height: '50dp'
            pos_hint: {"top": 0.98}
        MDCard:
            orientation: 'vertical'
            size_hint: None, None
            size: dp(320), dp(400)
            pos_hint: {"center_x": .5, "center_y": .55}
            elevation: 1
            padding: dp(20)
            spacing: dp(20)
            radius: [25, 25, 25, 25]
            MDLabel:
                text: 'Login'
                theme_text_color: 'Primary'
                font_style: 'H4'
                size_hint_y: None
                height: self.texture_size[1]
                pos_hint: {'center_y': .20}
                halign: 'center'
            MDTextField:
                id: username_field
                hint_text: 'User'
                required: True
                size_hint_x: 1
                pos_hint: {"center_x": .5}
            MDTextField:
                id: password_field
                hint_text: 'Password'
                required: True
                password: True
                size_hint_x: 1
                pos_hint: {"center_x": .5}
            MDRaisedButton:
                text: 'Login'
                on_release: root.login()
                size_hint_x: 0.5
                size_hint_y: None
                height: dp(50)
                pos_hint: {"center_x": .5}
                md_bg_color: 0.875, 0.788, 0.612, 1
                on_press: self.md_bg_color = (0.7, 0.6, 0.4, 1)
                on_release: self.md_bg_color = (0.875, 0.788, 0.612, 1)


<MyReservation>:
    name: 'MyReservation'
    FloatLayout:
        canvas.before:
            Color:
                rgba: 244/255, 241/255, 228/255, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Image:
            source: 'sources/ristoranteilcapo.png'
            size_hint: 1, None
            height: '50dp'
            pos_hint: {"top": 0.98}
        MDLabel:
            text: 'Reservation details'
            theme_text_color: 'Custom'
            text_color: 0, 0, 0, 1
            font_style: 'H4'
            size_hint_y: None
            height: self.texture_size[1]
            halign: 'center'
            padding_y: dp(10)
            pos_hint: {"center_x": 0.5, "top": 0.86}
        MDCard:
            size_hint: None, None
            size: "260dp", "200dp"
            pos_hint: {"center_x": 0.5, "top": 0.7}
            elevation: 1
            padding: "8dp"
            spacing: "10dp"
            radius: [25, 25, 25, 25]
            MDLabel:
                id: detail_label
                text: ''
                halign: 'center'
                valign: 'top'
                size_hint_y: None
                height: self.texture_size[1]
                pos_hint: {"center_x": 0.5, "top": 0.98}
        MDRaisedButton:
            text: 'Return'
            on_release: app.go_to_reservation()
            size_hint: None, None
            size: "200dp", "50dp"
            pos_hint: {"center_x": .5, "top": 0.1}
            md_bg_color: 0.875, 0.788, 0.612, 1
            on_press: self.md_bg_color = (0.7, 0.6, 0.4, 1)
            on_release: self.md_bg_color = (0.875, 0.788, 0.612, 1)
        
        MDRaisedButton:
            text: 'Modification'
            on_release: root.modify_reservation()
            size_hint: None, None
            size: "200dp", "50dp"
            pos_hint: {"center_x": .2, "top": 0.1}
            md_bg_color: 1.0, 0.6, 0.0, 1
            on_press: self.md_bg_color = (0.8, 0.4, 0.0, 1)
            on_release: self.md_bg_color = (1.0, 0.6, 0.0, 1)



<Reservation>:
    name: 'Reservation'
    FloatLayout:
        canvas.before:
            Color:
                rgba: 244/255, 241/255, 228/255, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Image:
            source: 'sources/ristoranteilcapo.png'
            size_hint: 1, None
            height: '50dp'
            pos_hint: {"top": 0.98}
        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, 1
            spacing: dp(10)
            padding: dp(20)
            MDLabel:
                text: 'Reservations'
                theme_text_color: 'Custom'
                text_color: 0, 0, 0, 1
                font_style: 'H4'
                size_hint_y: None
                height: self.texture_size[1]
                halign: 'center'
                padding_y: dp(10)
            MDCard:
                orientation: 'vertical'
                size_hint: 1, None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                elevation: 1
                radius: [25, 25, 25, 25]
                ScrollView:
                    size_hint_y: None
                    height: dp(400)
                    MDList:
                        id: reservation_list
            MDRaisedButton:
                text: 'Return'
                on_release: app.go_to_login()
                size_hint_x: 0.5
                size_hint_y: None
                height: dp(50)
                pos_hint: {"center_x": .5}
                md_bg_color: 0.875, 0.788, 0.612, 1
                on_press: self.md_bg_color = (0.7, 0.6, 0.4, 1)
                on_release: self.md_bg_color = (0.875, 0.788, 0.612, 1)

<ReservationModification>:
    name: 'ReservationModification'
    FloatLayout:
        canvas.before:
            Color:
                rgba: 244/255, 241/255, 228/255, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Image:
            source: 'sources/ristoranteilcapo.png'
            size_hint: 1, None
            height: '50dp'
            pos_hint: {"top": 0.98}
        MDLabel:
            text: 'Reservation modification'
            theme_text_color: 'Custom'
            text_color: 0, 0, 0, 1
            font_style: 'H4'
            size_hint_y: None
            height: self.texture_size[1]
            halign: 'center'
            padding_y: dp(10)
            pos_hint: {"center_x": 0.5, "top": 0.86}
        MDCard:
            size_hint: None, None
            size: "260dp", "300dp"
            pos_hint: {"center_x": 0.5, "top": 0.7}
            elevation: 1
            padding: "8dp"
            spacing: "10dp"
            radius: [25, 25, 25, 25]
            MDTextField:
                id: date_field
                hint_text: 'Date'
                required: True
                size_hint_x: 1
                pos_hint: {"center_x": .5}
                on_focus: if self.focus: app.show_date_picker()
            MDTextField:
                id: time_field
                hint_text: 'Time'
                required: True
                size_hint_x: 1
                pos_hint: {"center_x": .5}
                on_focus: if self.focus: app.show_time_picker()
            MDTextField:
                id: total_guests_field
                hint_text: 'Total Guests'
                required: True
                size_hint_x: 1
                pos_hint: {"center_x": .5}
        MDRaisedButton:
            text: 'Save'
            on_release: root.save_modification()
            size_hint: None, None
            size: "200dp", "50dp"
            pos_hint: {"center_x": .5, "top": 0.2}
            md_bg_color: 1.0, 0.6, 0.0, 1
            on_press: self.md_bg_color = (0.8, 0.4, 0.0, 1)
            on_release: self.md_bg_color = (1.0, 0.6, 0.0, 1)
        MDRaisedButton:
            text: 'Return'
            on_release: app.go_to_reservation()
            size_hint: None, None
            size: "200dp", "50dp"
            pos_hint: {"center_x": .5, "top": 0.1}
            md_bg_color: 0.875, 0.788, 0.612, 1
            on_press: self.md_bg_color = (0.7, 0.6, 0.4, 1)
            on_release: self.md_bg_color = (0.875, 0.788, 0.612, 1)
